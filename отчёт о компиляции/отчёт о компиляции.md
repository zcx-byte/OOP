## Отчёт о компилировании программы в PowerShell

### Установка MinGW-w64

Чтобы компилировать C++ программы в Windows с помощью командной строки, необходимо установить компилятор `g++`. Одним из наиболее доступных и распространённых решений является **MinGW-w64** — современная версия MinGW, поддерживающая 64-битные приложения и последние стандарты языка C++. Ниже приведён пошаговый процесс установки.

#### Шаг 1: Скачивание MinGW-w64

1. Перейдите на официальный ГитХаб MinGW-w64:  
   [https://github.com/niXman/mingw-builds-binaries/releases](https://github.com/niXman/mingw-builds-binaries/releases)


2. Так же можете скачать из SourceForge:  
   [https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/](https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/)
   
   Однако тут не актуальные версии, могут быть проблемы.

3. Выберите последнюю стабильную версию (например, `15.2.0`).

   Пример имени файла:
   ```
   x86_64-15.2.0-release-mcf-seh-ucrt-rt_v13-rev0.7z
   ```

5. Скачайте архив и распакуйте его с помощью 7-Zip или WinRAR в удобное место на диске, например:
   ```
   C:\mingw64
   ```

#### Шаг 2: Добавление пути к компилятору `g++` в переменную среды `Path` через свойства системы

После установки компилятора необходимо добавить путь к исполняемым файлам в системную переменную среды `Path`, чтобы можно было запускать `g++` из любого места в консоли.

##### Шаги:

1. Нажмите **Пуск** и введите в поиске:  
   **"переменные среды"**  
   (или "environment variables").

2. В результатах выберите:  
   **"Изменение переменных среды"** или **"Переменные среды"**.

3. Откроется окно **"Свойства системы"**.  
   Внизу окна нажмите кнопку **"Переменные среды"**.

![Свойства -> "Переменные среды"](image.png)
   
4. В разделе **"Системные переменные"** найдите строку **`Path`** и нажмите на неё **"Изменить"**.

![Переменные среды](image-1.png)

5. В открывшемся окне нажмите **"Добавить"** и укажите полный путь к папке `bin` внутри установленного каталога MinGW-w64:
   ```
   C:\mingw64\bin
   ```

6. Нажмите **"ОК"** во всех окнах, чтобы сохранить изменения.

7. Перезапустите PowerShell или командную строку, чтобы изменения вступили в силу.

8. Проверьте установку:

```powershell
g++ --version
```

Если команда выводит информацию о версии G++ — установка прошла успешно.

### 2. Основные команды и приёмы работы в PowerShell

Для эффективной работы в консоли необходимо знать базовые команды:

- **`cd <путь>`** — переход в указанную директорию.  
  Пример: `cd C:\projects\quadratic`

- **`cd ..`** — переход на уровень выше.

- **`cd \`** — переход в корневую директорию текущего диска.

- **`ls`** или **`dir`** — отображение содержимого текущей папки.  
  Команда `ls` является алиасом для `Get-ChildItem`.

- **`pwd`** — вывод полного пути к текущей директории.

- **Автодополнение с помощью клавиши Tab** — при вводе части имени файла или папки нажмите `Tab`, чтобы система автоматически дополнила имя. При наличии нескольких совпадений повторное нажатие переключает варианты.

- **Стрелка вверх (↑)** — позволяет просматривать историю ранее введённых команд. Удобно для повторного запуска `g++` или программы.

- **`Ctrl+C`** — прерывание выполнения текущей программы.

---

### 3. Процесс компиляции программы

Структура проекта следующая:

```
C:\projects\quadratic\
    main.cpp
    formulas.cpp
    formulas.h
```

#### Шаг 1: Переход в рабочую директорию

```powershell
cd C:\projects\quadratic
```

#### Шаг 2: Проверка содержимого папки

```powershell
ls
```

Убедитесь, что отображаются файлы `main.cpp`, `formulas.cpp`, `formulas.h`.

#### Шаг 3: Компиляция программы

Выполните команду компиляции:

```powershell
g++ main.cpp formulas.cpp -o program.exe
```

Эта команда:
- Компилирует `main.cpp` и `formulas.cpp`.
- Объединяет объектные файлы.
- Создаёт исполняемый файл `program.exe`.

Если ошибок нет, файл `program.exe` будет создан в текущей директории.

#### Шаг 4: Запуск программы

```powershell
.\program.exe
```

В Windows для запуска исполняемого файла из текущей директории требуется указывать путь `.\`, иначе система не распознает команду.

Программа запросит ввод коэффициентов `ax`, `bx^2`, `c` и выведет результат решения квадратного уравнения.

---

### 4. Оптимизация: уменьшение размера исполняемого файла

Для уменьшения размера исполняемого файла можно использовать флаги оптимизации и удаления отладочной информации:

```powershell
g++ -O2 -s main.cpp formulas.cpp -o program.exe
```

- `-O2` — включает оптимизации, улучшающие производительность и уменьшающие размер.
- `-s` — удаляет отладочную информацию.

---

### 5. Статические библиотеки

Статическая библиотека — это файл, содержащий **скомпилированный код**, который можно **встроить в исполняемый файл** во время сборки. В Windows такие библиотеки имеют расширение `.lib`, в Linux — `.a`.

#### Зачем они нужны?

- Ускоряют сборку проектов.
- Позволяют **разделять код** на модули.
- Упрощают **повторное использование** компонентов.

---

#### Создание статической библиотеки из `formulas.cpp`

##### Шаг 1: Компиляция `formulas.cpp` в объектный файл

```powershell
g++ -c formulas.cpp -o formulas.o
```

##### Шаг 2: Создание статической библиотеки

```powershell
ar rcs libformulas.a formulas.o
```

- `ar` — инструмент для создания архивов (библиотек).
- `rcs` — флаги: `r` (вставить), `c` (создать), `s` (создать индекс).
- `libformulas.a` — имя библиотеки.

##### Шаг 3: Компиляция и линковка с библиотекой

```powershell
g++ main.cpp -L. -lformulas -o program.exe
```

- `-L.` — указывает искать библиотеки в текущей папке.
- `-lformulas` — подключает `libformulas.a`.

---

#### Итог

Теперь код из `formulas.cpp` будет встроен в `program.exe`, и не нужно будет держать `formulas.dll` или `formulas.o` рядом с исполняемым файлом. Это удобно при **распространении программы**.

---

### 6. Использование CMake

CMake позволяет упростить процесс сборки проекта, особенно при добавлении новых файлов или библиотек.

#### Пример `CMakeLists.txt`:

```cmake
cmake_minimum_required(VERSION 3.10)
project(QuadraticCalculator)

set(CMAKE_CXX_STANDARD 17)

add_executable(program main.cpp formulas.cpp)

# Для статической линковки
set(CMAKE_EXE_LINKER_FLAGS "-static -s")

# Для оптимизации
target_compile_options(program PRIVATE -O2)
```

#### Компиляция через CMake:

```powershell
mkdir build
cd build
cmake ..
cmake --build .
```

Создаст исполняемый файл `program.exe` в папке `build`.

---

### 7. Использование Visual Studio (IDE)

Visual Studio — мощная IDE от Microsoft. Для работы с C++ можно использовать **Visual Studio Community** (бесплатно).

- Установите Visual Studio с компонентами **C++ Desktop Development**.
- Создайте новый проект: **Console Application**.
- Добавьте в проект файлы `main.cpp`, `formulas.cpp`, `formulas.h`, `quadratic_tests.cpp`.
- Скомпилируйте и запустите.

**Преимущества:**
- Встроенная отладка.
- Интеграция с Git.
- Управление проектом через GUI.

---

### 8. Использование Git для управления проектом

Git — система контроля версий, позволяющая отслеживать изменения в коде и работать в команде.

#### Инициализация репозитория:

```powershell
git init
git add .
git commit -m "Initial commit: quadratic calculator with formulas module"
```

#### Пример `.gitignore`:

```
# Executables
*.exe
*.out

# Build directories
build/

# Logs
*.log

# VS Code settings
.vscode/
```

---

### Заключение

Настройка окружения в PowerShell позволяет компилировать и запускать C++ программы напрямую из командной строки. Данная программа — **калькулятор квадратных уравнений** — корректно реализует решение уравнения `ax² + bx + c = 0`.

Компиляция осуществляется одной командой, после чего программа выполняется локально с интерактивным вводом данных.

Также показано, как:
- Создать и использовать **статическую библиотеку**.
- Уменьшить размер исполняемого файла.
- Собирать проект с помощью **CMake**.
- Работать с **Visual Studio** и **Git**.

Это делает проект **масштабируемым, переносимым и удобным для разработки**.